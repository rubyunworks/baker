
<html>
<head><title>findfile (Baker::Recipe)</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<style>
  .kw { color: #3333FF; font-weight: bold }
  .cmt { color: green; font-style: italic }
  .str { color: #662222; font-style: italic }
  .re  { color: #662222; }
</style>
</head>
<body bgcolor="white">
<pre><span class="cmt"># File src/recipe.rb, line 145</span>
    <span class="kw">def</span> findfile(root_dir, filepath_pattern, exclude_paths=[])
      path_match = <span class="kw">nil</span>
      re = Regexp.new(filepath_pattern)
      Find.find(root_dir) <span class="kw">do</span> |path|
        exclude_paths.each { |x| Find.prune <span class="kw">if</span> path =~ /^#{root_dir}\/#{x}/ }
        <span class="kw">if</span> re.match(path.sub(root_dir,<span class="str">''</span>))
          path_match = path
          <span class="kw">break</span>
        <span class="kw">end</span>
      <span class="kw">end</span>
      path_match
    <span class="kw">end</span></pre>
</body>
</html>